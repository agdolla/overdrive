@import '../../theme/tokens/facade';

$heightSmall: 36px;
$heightMedium: 48px;
$widthSmall: 36px;

@mixin isHoverState() {
	&:not([disabled]) {
		&.isHoverState,
		&:hover {
			@content;
		}
	}
}

@mixin isActiveState() {
	&:not([disabled]) {
		&.isActiveState,
		&:active {
			@content;
		}
	}
}

@mixin isDisabledState() {
	&[disabled] {
		cursor: not-allowed;

		&:not(.loading) {
			@content;
		}
	}
}

.root {
	display: inline-block;
	width: auto;
	outline: none;
	font-family: inherit;
	line-height: 1;
	font-weight: 500;
	text-align: center;
	color: white;
	fill: currentColor;
	background: none;
	border: 1px solid;
	text-decoration: none;
	cursor: pointer;
	user-select: none;
	transform: translate(0, 0) scale(1);
	will-change: transform;
	border-radius: var(--global--space--1);
	transition-delay: 0s;
	transition-duration: 0.2s;
	transition-timing-function: cubic-bezier(0, 0, 0.2, 1);
	transition-property: color, background-color, border-color, box-shadow,
		transform;

	@include isActiveState() {
		&:not(.root.minimal) {
			transform: translate(0, 1px) scale(1);
		}
	}
}

.fullWidth {
	width: 100%;
}

.rounded {
	border-radius: 50%;
	overflow: hidden;
}

.variant {
	&-primary {
		background-color: getColour(green, 600);
		border-color: getColour(green, 700);
		// These are based of the elevationBoxShadow, the only change is the alpha, to compensate for colour things.
		box-shadow: 0 1px 10px 0 rgba(0, 0, 0, 0.06),
			0 4px 5px 0 rgba(0, 0, 0, 0.06), 0 2px 4px -1px rgba(0, 0, 0, 0.1);

		&.minimal {
			background-color: transparent;
			box-shadow: none;
			border-color: transparent;
			color: getColour(gray, 700);
		}

		@include isHoverState() {
			color: white;
			background-color: getColour(green, 700);
			border-color: getColour(green, 800);
			box-shadow: 0 3px 14px 2px rgba(0, 0, 0, 0.06),
				0 8px 10px 1px rgba(0, 0, 0, 0.06),
				0 5px 5px -3px rgba(0, 0, 0, 0.1);

			&.minimal {
				color: getColour(green, 900);
				background-color: getColour(green, 100);
				box-shadow: none;
				border-color: transparent;
			}
		}

		@include isActiveState() {
			color: white;
			background-color: getColour(green, 800);
			border-color: getColour(green, 900);
			box-shadow: 0 1px 5px 0 rgba(0, 0, 0, 0.06),
				0 2px 2px 0 rgba(0, 0, 0, 0.06),
				0 3px 1px -2px rgba(0, 0, 0, 0.1);

			&.minimal {
				color: getColour(green, 900);
				background-color: getColour(green, 200);
				box-shadow: none;
				border-color: transparent;
			}
		}

		@include isDisabledState() {
			color: white;
			background-color: getColour(green, 200);
			border-color: getColour(green, 200);
			box-shadow: none;

			&.minimal {
				color: getColour(green, 300);
				background-color: getColour(green, 100);
				box-shadow: none;
				border-color: transparent;
			}
		}
	}

	&-secondary {
		color: getColour(gray, 700);
		background-color: white;
		border-color: getColour(gray, 300);
		box-shadow: var(--global--elevationBoxShadow--2);

		&.minimal {
			background-color: transparent;
			box-shadow: none;
			border-color: transparent;
			color: getColour(gray, 700);
		}

		@include isHoverState() {
			color: getColour(gray, 700);
			background-color: getColour(gray, 100);
			border-color: getColour(gray, 400);
			box-shadow: var(--global--elevationBoxShadow--3);

			&.minimal {
				color: getColour(gray, 900);
				background-color: getColour(gray, 100);
				box-shadow: none;
				border-color: transparent;
			}
		}

		@include isActiveState() {
			color: getColour(gray, 700);
			background-color: getColour(gray, 200);
			border-color: getColour(gray, 500);
			box-shadow: var(--global--elevationBoxShadow--1);

			&.minimal {
				color: getColour(gray, 900);
				background-color: getColour(gray, 200);
				box-shadow: none;
				border-color: transparent;
			}
		}

		@include isDisabledState() {
			background-color: white;
			border-color: getColour(gray, 200);
			color: getColour(gray, 300);
			box-shadow: none;

			&.minimal {
				color: getColour(gray, 300);
				background-color: getColour(gray, 100);
				box-shadow: none;
				border-color: transparent;
			}
		}
	}

	&-danger {
		background-color: getColour(red, 600);
		border-color: getColour(red, 700);
		box-shadow: 0 1px 10px 0 rgba(0, 0, 0, 0.09),
			0 4px 5px 0 rgba(0, 0, 0, 0.09), 0 2px 4px -1px rgba(0, 0, 0, 0.15);

		&.minimal {
			background-color: transparent;
			box-shadow: none;
			border-color: transparent;
			color: getColour(gray, 700);
		}

		@include isHoverState() {
			color: white;
			background-color: getColour(red, 700);
			border-color: getColour(red, 800);
			box-shadow: 0 3px 14px 2px rgba(0, 0, 0, 0.09),
				0 8px 10px 1px rgba(0, 0, 0, 0.09),
				0 5px 5px -3px rgba(0, 0, 0, 0.15);

			&.minimal {
				color: getColour(red, 900);
				background-color: getColour(red, 100);
				box-shadow: none;
				border-color: transparent;
			}
		}

		@include isActiveState() {
			color: white;
			background-color: getColour(red, 800);
			border-color: getColour(red, 900);
			box-shadow: 0 1px 5px 0 rgba(0, 0, 0, 0.09),
				0 2px 2px 0 rgba(0, 0, 0, 0.09),
				0 3px 1px -2px rgba(0, 0, 0, 0.15);

			&.minimal {
				color: getColour(red, 900);
				background-color: getColour(red, 200);
				box-shadow: none;
				border-color: transparent;
			}
		}

		@include isDisabledState() {
			color: white;
			background-color: getColour(red, 200);
			border-color: getColour(red, 200);
			box-shadow: none;

			&.minimal {
				color: getColour(red, 300);
				background-color: getColour(red, 100);
				box-shadow: none;
				border-color: transparent;
			}
		}
	}
}

.size {
	&-small {
		$size: $heightSmall;
		$font_size: var(--global--fontSize--3);
		$verticalPadding: calc(((#{$size} - #{$font_size}) / 2) - 1px);

		font-size: #{$font_size};
		padding: $verticalPadding calc(var(--global--space--3) - 1px);
		min-width: 64px;

		&.rounded {
			width: $size;
			height: $size;
			min-width: auto;
			padding: $verticalPadding 0;
		}
	}

	&-medium {
		$size: $heightMedium;
		$font_size: var(--global--fontSize--4);
		$verticalPadding: calc(((#{$size} - #{$font_size}) / 2) - 1px);

		font-size: #{$font_size};
		padding: $verticalPadding calc(var(--global--space--4) - 1px);
		min-width: 96px;

		&.rounded {
			width: $size;
			height: $size;
			min-width: auto;
			padding: $verticalPadding 0;
		}
	}
}

.loading {
	position: relative;

	.btn-content {
		visibility: hidden;
	}
}

.spinner {
	pointer-events: none;
	position: absolute;
	left: 50%;
	top: 50%;
	transform: translate(-50%, -50%);
}
